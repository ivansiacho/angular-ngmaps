!function(){"use strict";angular.module("Main",["ngResource","ngMap"]).factory("Addresses",function(e){return e.get("data/addresses.dat")}).controller("MainController",function(e,o,n){o.then(function(o){e.addresses=o.data.split("\n")}),n.getMap().then(function(o){var n=[[0,0],[0,0]],t=o.markers;t.logo.setMap(null),e.iconMarker={url:"http://is1.mzstatic.com/image/thumb/Purple71/v4/b6/e9/b4/b6e9b4f1-3756-6dfb-ac23-2e59b671b985/source/175x175bb.jpg",scaledSize:[50,50]},e.onMarkerClick=function(i){var a,s,r,l=[],c=i.latLng,d=o.shapes,u=[c.lat(),c.lng()];if(e.iconCoordinates=u,e.onRemoveLine=function(){e.coordinates=n,e.firstCoordinates=void 0,e.iconCoordinates=void 0,d.line.setMap(null),t.logo.setMap(null)},e.firstCoordinates?(e.coordinates=[e.firstCoordinates,u],d.line.setMap(o)):e.firstCoordinates=u,e.iconCoordinates&&e.isLogoChecked){for(var g in t)(a=google.maps.geometry.spherical.computeDistanceBetween(c,t[g].position))>0&&l.push({distance:a,latLng:t[g].position});s=l.sort(function(e,o){return e.distance-o.distance}),r=google.maps.geometry.spherical.interpolate(c,s[0].latLng,.5),e.iconCoordinates=[r.lat(),r.lng()],t.logo.setMap(o)}}})})}();